🎯 一、项目整体设计（100%会问）
❓1：你这个系统整体流程是怎样的？

你可以这么答：

系统通过定时任务扫描老人状态，
当超过设定时间未回复时，
服务层触发志愿者匹配逻辑，
计算老人和志愿者的经纬度距离，
选取最近且可用的志愿者，
创建告警记录 alert_record，
并模拟发送通知。


关键词：

定时任务 + 服务层 + 自动调度

❓2：为什么要拆 handler / service / task？

标准回答思路：

handler 负责 HTTP 请求解析
service 负责核心业务逻辑
task 负责后台调度

避免业务代码写在接口层，
提高复用性和可维护性。


面试官听到这句会点头。

🎯 二、定时任务（超级高频）
❓3：为什么用 goroutine + sleep 做定时任务？

可以答：

项目规模较小，
使用轻量 goroutine 即可满足需求，
后期可替换为 cron 或消息队列调度。


不要装复杂。

❓4：如果老人很多怎么办？（高频问题）

答：

可以按时间范围查询，
而不是全表扫描。

例如：

WHERE last_reply_time < NOW()-2h


这句话非常加分。

🎯 三、距离算法（必问）
❓5：为什么用 Haversine？

答：

适用于地球球面距离计算，
比简单直线距离更接近真实地理距离。

❓6：如果志愿者很多怎么办？

答：

可以：
1. 加数据库经纬度范围过滤
2. 使用空间索引（GIS）
3. 引入地图服务API


这三条一说 —— 面试官知道你懂扩展。

🎯 四、告警设计（你项目最大亮点）
❓7：如何避免重复告警？

你现在已经做了 👍

答：

创建告警前查询是否存在 pending 状态记录，
若存在则跳过。

❓8：为什么要 alert_record 表？

答：

用于记录告警历史，
支持后期追踪、统计和状态流转。

🎯 五、API设计（后端核心）
❓9：为什么设计为 RESTful API？

答：

统一接口规范，
方便未来接入 APP、小程序或第三方系统。

🎯 六、工程能力（面试官最想听）
❓10：你这个项目最大的难点是什么？

你可以说：

定时任务触发与业务逻辑解耦，
以及自动匹配流程设计。


千万别说：

不会写代码

🧠 面试官可能继续追问（你提前准备）

我给你一份快速应答：

面试官问	你怎么答
为什么不用 Redis？	当前规模小，数据库即可
为什么不用 MQ？	先保证业务跑通
如何支持并发？	数据库事务 + 状态控制
如何扩展通知？	短信 / WebSocket / 微信
如何部署？	Linux + systemd 或 Docker